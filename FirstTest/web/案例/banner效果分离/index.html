<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>banner效果分离</title>
<link href="style.css" rel="stylesheet" media="screen" type="text/css" />
<script language="javascript" type="text/javascript" src="jquery-1.4.2.min.js"></script>
<script language="javascript" type="text/javascript" src="scrolltop.js"></script>
<!--[if IE 6]>
<script src="DD_belatedPNG_0.0.8a-min.js"></script>
<script>
DD_belatedPNG.fix('.flash_bar,#flashLine');
</script>
<![endif]-->
</head>

<body>

<!--flash start-->
	<div id="flashBg" style="background-color:#b4d6f9;">
    	<div id="flashLine">
        	<div id="flash">
            <a name="#b4d6f9" style="display: block;" id="flash1" target="_blank" href="#" title=""><img width="980" height="393" src="a01.jpg" border="0" alt=""></a>
            <a title="" href="#" target="_blank" id="flash2" style="display: none;" name="#060804"><img width="980" height="393" border="0" alt="" src="a02.jpg"></a>
			<a name="#04304b" id="flash3" target="_blank" href="#" style="display: none;" title=""><img width="980" height="393" src="a03.jpg" border="0" alt=""></a>
			<a title="" style="display: none;" href="#" target="_blank" id="flash4" name="#000000"><img width="980" height="393" border="0" alt="" src="a04.jpg"></a>
            <div class="flash_bar">
				<div onclick="changeflash(1)" id="f1" class="dq"></div>
				<div class="no" id="f2" onclick="changeflash(2)"></div>
				<div onclick="changeflash(3)" id="f3" class="no"></div>
                <div class="no" id="f4" onclick="changeflash(4)"></div>
  		</div>
            </div>
        </div>
</div>
    <!--flash end-->
	<script>
var currentindex=1;
//$("#flashBg").css("background-color",$("#flash1").attr("name"));
function changeflash(i) {	
currentindex=i;
for (j=1;j<=4;j++){
	if (j==i) 
	{$("#flash"+j).fadeIn("normal");
	$("#flash"+j).css("display","block");
	$("#f"+j).removeClass();
	$("#f"+j).addClass("dq");
	$("#flashBg").css("background-color",$("#flash"+j).attr("name"));
	}
	else
	{$("#flash"+j).css("display","none");
	$("#f"+j).removeClass();
	$("#f"+j).addClass("no");}
}}
function startAm(){
timerID = setInterval("timer_tick()",10000);
}
function stopAm(){
clearInterval(timerID);
}
function timer_tick() {
    currentindex=currentindex>=3?1:currentindex+1;
	changeflash(currentindex);}
$(document).ready(function(){
$(".flash_bar div").mouseover(function(){stopAm();}).mouseout(function(){startAm();});
startAm();
});
</script>
</body>
</html>